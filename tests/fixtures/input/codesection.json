[
    "To",
    " ensure",
    " **",
    "only",
    "**",
    " the",
    " two",
    " keys",
    " `\"",
    "blog",
    "name",
    "\"`",
    " and",
    " `\"",
    "blog",
    "description",
    "\"`",
    " are",
    " accepted",
    " when",
    " processing",
    " the",
    " options",
    ",",
    " you",
    " can",
    " add",
    " a",
    " whitelist",
    " check",
    " before",
    " calling",
    " `",
    "update",
    "_option",
    "`.",
    " Here's",
    " how",
    " you",
    " can",
    " modify",
    " your",
    " code",
    ":\n\n",
    "```",
    "php",
    "\n",
    "$",
    "allowed",
    "_keys",
    " =",
    " ['",
    "blog",
    "name",
    "',",
    " '",
    "blog",
    "description",
    "'];\n\n",
    "$",
    "blue",
    "print",
    " =",
    " json",
    "_decode",
    "('",
    "{\n",
    " ",
    " \"",
    "steps",
    "\":",
    " [\n",
    "   ",
    " {\n",
    "     ",
    " \"",
    "step",
    "\":",
    " \"",
    "set",
    "Site",
    "Options",
    "\",\n",
    "     ",
    " \"",
    "options",
    "\":",
    " {\n",
    "       ",
    " \"",
    "blog",
    "name",
    "\":",
    " \"",
    "Step",
    " Library",
    " Demo",
    "\",\n",
    "       ",
    " \"",
    "blog",
    "description",
    "\":",
    " \"",
    "Trying",
    " out",
    " Word",
    "Press",
    " Playground",
    ".\"\n",
    "     ",
    " }\n",
    "   ",
    " }\n",
    " ",
    " ]\n",
    "}',",
    " true",
    ");",
    " //",
    " Note",
    ":",
    " pass",
    " true",
    " to",
    " get",
    " associative",
    " array",
    " instead",
    " of",
    " std",
    "Class",
    "\n\n",
    "foreach",
    " ($",
    "blue",
    "print",
    "['",
    "steps",
    "']",
    " as",
    " $",
    "step",
    ")",
    " {\n",
    " ",
    " switch",
    " ($",
    "step",
    "['",
    "step",
    "'])",
    " {\n",
    "   ",
    " case",
    " \"",
    "set",
    "Site",
    "Options",
    "\":\n",
    "     ",
    " foreach",
    " ($",
    "step",
    "['",
    "options",
    "']",
    " as",
    " $",
    "key",
    " =>",
    " $",
    "value",
    ")",
    " {\n",
    "       ",
    " //",
    " Only",
    " accept",
    " allowed",
    " keys",
    "\n",
    "       ",
    " if",
    " (",
    "in",
    "_array",
    "($",
    "key",
    ",",
    " $",
    "allowed",
    "_keys",
    ",",
    " true",
    "))",
    " {\n",
    "         ",
    " update",
    "_option",
    "($",
    "key",
    ",",
    " $",
    "value",
    ");\n",
    "       ",
    " }",
    " else",
    " {\n",
    "         ",
    " //",
    " Option",
    "ally",
    ",",
    " handle",
    " unexpected",
    " keys",
    ",",
    " e",
    ".g",
    ".,",
    " log",
    " or",
    " throw",
    " an",
    " error",
    "\n",
    "         ",
    " error",
    "_log",
    "(\"",
    "Unexpected",
    " option",
    " key",
    ":",
    " {$",
    "key",
    "}\");\n",
    "       ",
    " }\n",
    "     ",
    " }\n",
    "     ",
    " break",
    ";\n",
    " ",
    " }\n",
    "}\n",
    "``",
    "`\n\n",
    "###",
    " Important",
    " notes",
    ":\n",
    "1",
    ".",
    " **",
    "Use",
    " `",
    "json",
    "_decode",
    "`",
    " with",
    " `",
    "true",
    "`",
    " as",
    " the",
    " second",
    " parameter",
    "**",
    ":",
    " This",
    " ensures",
    " you",
    " decode",
    " into",
    " an",
    " associative",
    " array",
    ",",
    " making",
    " `$",
    "blue",
    "print",
    "['",
    "steps",
    "']",
    "`",
    " accessible",
    " as",
    " an",
    " array",
    ".",
    " Otherwise",
    ",",
    " you'd",
    " access",
    " objects",
    " via",
    " `",
    "->",
    "`.\n\n",
    "2",
    ".",
    " **",
    "Whitelist",
    " keys",
    "**",
    ":",
    " Only",
    " keys",
    " that",
    " are",
    " exactly",
    " `\"",
    "blog",
    "name",
    "\"`",
    " or",
    " `\"",
    "blog",
    "description",
    "\"`",
    " are",
    " accepted",
    " and",
    " passed",
    " into",
    " `",
    "update",
    "_option",
    "`.\n\n",
    "3",
    ".",
    " **",
    "Handle",
    " unexpected",
    " keys",
    "**",
    ":",
    " You",
    " might",
    " want",
    " to",
    " log",
    " or",
    " throw",
    " exceptions",
    " if",
    " invalid",
    " keys",
    " are",
    " present",
    ".",
    " This",
    " helps",
    " catch",
    " errors",
    " or",
    " malicious",
    " input",
    " early",
    ".\n\n",
    "###",
    " Summary",
    "\n",
    "This",
    " approach",
    " allows",
    " your",
    " code",
    " to",
    " safely",
    " accept",
    " only",
    " those",
    " two",
    " keys",
    " when",
    " updating",
    " the",
    " site",
    " options",
    " while",
    " ignoring",
    " or",
    " reporting",
    " any",
    " others",
    ".",
    "Absolutely",
    "!",
    " Using",
    " `",
    "array",
    "_inter",
    "sect",
    "_key",
    "`",
    " is",
    " a",
    " clean",
    " and",
    " efficient",
    " way",
    " to",
    " filter",
    " your",
    " `$",
    "step",
    "['",
    "options",
    "']",
    "`",
    " to",
    " only",
    " allow",
    " certain",
    " keys",
    ".\n\n",
    "Here's",
    " how",
    " you",
    " can",
    " do",
    " it",
    " with",
    " your",
    " example",
    ":\n\n",
    "```",
    "php",
    "\n",
    "$",
    "allowed",
    "_keys",
    " =",
    " ['",
    "blog",
    "name",
    "'",
    " =>",
    " true",
    ",",
    " '",
    "blog",
    "description",
    "'",
    " =>",
    " true",
    "];\n\n",
    "$",
    "blue",
    "print",
    " =",
    " json",
    "_decode",
    "('",
    "{\n",
    " ",
    " \"",
    "steps",
    "\":",
    " [\n",
    "   ",
    " {\n",
    "     ",
    " \"",
    "step",
    "\":",
    " \"",
    "set",
    "Site",
    "Options",
    "\",\n",
    "     ",
    " \"",
    "options",
    "\":",
    " {\n",
    "       ",
    " \"",
    "blog",
    "name",
    "\":",
    " \"",
    "Step",
    " Library",
    " Demo",
    "\",\n",
    "       ",
    " \"",
    "blog",
    "description",
    "\":",
    " \"",
    "Trying",
    " out",
    " Word",
    "Press",
    " Playground",
    ".\"\n",
    "     ",
    " }\n",
    "   ",
    " }\n",
    " ",
    " ]\n",
    "}',",
    " true",
    ");\n\n",
    "foreach",
    " ($",
    "blue",
    "print",
    "['",
    "steps",
    "']",
    " as",
    " $",
    "step",
    ")",
    " {\n",
    " ",
    " switch",
    " ($",
    "step",
    "['",
    "step",
    "'])",
    " {\n",
    "   ",
    " case",
    " \"",
    "set",
    "Site",
    "Options",
    "\":\n",
    "     ",
    " //",
    " Filter",
    " options",
    " to",
    " only",
    " allowed",
    " keys",
    "\n",
    "     ",
    " $",
    "filtered",
    "_options",
    " =",
    " array",
    "_inter",
    "sect",
    "_key",
    "($",
    "step",
    "['",
    "options",
    "'],",
    " $",
    "allowed",
    "_keys",
    ");\n\n",
    "     ",
    " foreach",
    " ($",
    "filtered",
    "_options",
    " as",
    " $",
    "key",
    " =>",
    " $",
    "value",
    ")",
    " {\n",
    "       ",
    " update",
    "_option",
    "($",
    "key",
    ",",
    " $",
    "value",
    ");\n",
    "     ",
    " }\n",
    "     ",
    " break",
    ";\n",
    " ",
    " }\n",
    "}\n",
    "``",
    "`\n\n",
    "###",
    " Explanation",
    ":\n",
    "-",
    " We",
    " create",
    " `$",
    "allowed",
    "_keys",
    "`",
    " as",
    " an",
    " associative",
    " array",
    " where",
    " keys",
    " are",
    " what",
    " you",
    " want",
    " to",
    " allow",
    ".\n",
    "-",
    " `",
    "array",
    "_inter",
    "sect",
    "_key",
    "($",
    "step",
    "['",
    "options",
    "'],",
    " $",
    "allowed",
    "_keys",
    ")`",
    " keeps",
    " only",
    " the",
    " keys",
    " in",
    " `$",
    "step",
    "['",
    "options",
    "']",
    "`",
    " that",
    " also",
    " exist",
    " in",
    " `$",
    "allowed",
    "_keys",
    "`.\n",
    "-",
    " Then",
    " you",
    " safely",
    " update",
    " only",
    " those",
    " allowed",
    " options",
    ".\n\n",
    "This",
    " approach",
    " is",
    " neat",
    " and",
    " avoids",
    " going",
    " through",
    " and",
    " checking",
    " each",
    " key",
    " with",
    " `",
    "in",
    "_array",
    "`",
    " manually",
    "."
]